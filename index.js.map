{"version":3,"file":"index.js","sources":["../src/js/artists.js","../src/js/feedback.js","../src/js/header.js","../src/js/modal.js"],"sourcesContent":["//Get artists\nimport Axios from 'axios';\nimport iziToast from 'izitoast';\nconst axios = Axios.create({\n  baseURL: 'https://sound-wave.b.goit.study/api/artists',\n  headers: {},\n  params: {\n    limit: 8,\n  },\n});\nasync function getArtists(page) {\n  const result = await axios.get('', {\n    params: {\n      page: page,\n    },\n  });\n  return result.data;\n}\nlet page;\nlet maxPages;\n\ndocument.addEventListener('DOMContentLoaded', handlePageLoad);\n\nasync function handlePageLoad(e) {\n  e.preventDefault();\n  page = 1;\n  try {\n    const result = await getArtists(page);\n    maxPages = Math.ceil(result.totalArtists / 8);\n    if (result.artists.length === 0) {\n      iziToast.show({\n        title: 'Oops',\n        message: 'The are no artists found...',\n      });\n      hideLoader();\n      return;\n    } else {\n      createArtists(result.artists);\n      hideLoader();\n      checkPages();\n    }\n  } catch {\n    maxPages = 0;\n    iziToast.show({\n      title: 'Oops',\n      message: 'An error must have occurred',\n    });\n    hideLoader();\n  }\n}\n\nfunction checkPages() {\n  if (maxPages > page) {\n    showLoadMoreBtn();\n  } else if (page === maxPages) {\n    hideLoadMoreBtn();\n    iziToast.show({\n      title: 'Wow',\n      message: 'You have reached the end of the list',\n    });\n    return;\n  }\n}\n\nfunction createArtists(artists) {\n  const artistsList = document.querySelector('.artists-list-js');\n  const markup = artists.map(artist => createArtist(artist)).join('');\n  artistsList.innerHTML = markup;\n}\n\nfunction createArtist(artist) {\n  const artistGenres = artist.genres.map(genre => createGenre(genre)).join('');\n  let artistBio;\n  if (artist.strBiographyEN.length > 120) {\n    artistBio = artist.strBiographyEN.slice(0, 120) + '...';\n  } else {\n    artistBio = artist.strBiographyEN;\n  }\n  return ` <li class=\"artists-list-item\">\n      <ul class=\"artists-card\">\n        <li>\n          <div class=\"artist-img-box\">\n            <img src=\"${artist.strArtistThumb}\"/>\n          </div>\n        </li>\n        <li>\n          <div>\n            <ul class=\"artist-genres\">${artistGenres}</ul>\n          </div>\n          <div class=\"artist-desc\">\n            <p class=\"artist-name\"> ${artist.strArtist}</p>\n            <p class=\"artist-bio\">${artistBio} </p>\n          </div>\n        </li>\n        <li>\n          <button class=\"artists-learn-js artists-learn\"> Learn more  <span class=\"artist-svg\"><svg width=\"8\" height=\"15\" viewBox=\"0 0 8 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M0 14.9426L8 7.94263L0 0.942627V14.9426Z\" fill=\"white\" />\n</svg></span> </button>\n        </li>\n      </ul>\n    </li>`;\n}\nfunction createGenre(genre) {\n  return `\n  <li class=\"artist-genre\">\n  <p>${genre}</p>\n  </li>`;\n}\n\nfunction loadMoreArtists(artists) {\n  const artistList = document.querySelector('.artists-list-js');\n  const markup = artists.map(artist => createArtist(artist)).join('');\n  artistList.insertAdjacentHTML('beforeend', markup);\n}\nfunction showLoader() {\n  const loader = document.querySelector('.artist-loader-js');\n  loader.style.display = 'flex';\n}\nfunction hideLoader() {\n  const loader = document.querySelector('.artist-loader-js');\n  loader.style.display = 'none';\n}\n\nfunction showLoadMoreBtn() {\n  const loadbtn = document.querySelector('.artists-load-js');\n  loadbtn.classList.add('artists-load-more');\n}\nfunction hideLoadMoreBtn() {\n  const loadbtn = document.querySelector('.artists-load-js');\n  loadbtn.classList.remove('artists-load-more');\n}\n\nconst artistLoadBtn = document.querySelector('.artists-load-js');\nartistLoadBtn.addEventListener('click', handleLoadMoreClick);\n\nasync function handleLoadMoreClick(e) {\n  e.preventDefault();\n  page += 1;\n  showLoader();\n  try {\n    const result = await getArtists(page);\n    hideLoader();\n    loadMoreArtists(result.artists);\n    checkPages();\n  } catch {\n    iziToast.show({\n      title: 'Oops',\n      message: 'An error must have occurred',\n    });\n    hideLoader();\n  }\n}\n","console.log('Im feedback')","console.log('Im header')","console.log('Im modal')"],"names":["axios","Axios","getArtists","page","maxPages","handlePageLoad","e","result","iziToast","hideLoader","createArtists","checkPages","showLoadMoreBtn","hideLoadMoreBtn","artists","artistsList","markup","artist","createArtist","artistGenres","genre","createGenre","artistBio","loadMoreArtists","artistList","showLoader","loader","artistLoadBtn","handleLoadMoreClick"],"mappings":"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"}